<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›ï¸ å¿…è²·æ¸…å–® | ç†±æµ·é•·ç€ä¹‹æ—…</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-sticky">
        <div class="nav-container">
            <a href="index.html" class="nav-link">ğŸ”™ å›é¦–é </a>
            <span class="nav-link active">ğŸ›ï¸ è³¼ç‰©æ¸…å–®</span>
        </div>
    </nav>

    <main class="main-content">
        <section class="section">
            <div class="section-header">
                <h2>ğŸ›ï¸ æ—¥æœ¬å¿…è²·è³¼ç‰©æ¸…å–®</h2>
                <p>è‡ªå‹•å„²å­˜ï¼Œä¸æ€•éºå¿˜çš„æ¡è³¼ç­†è¨˜</p>
            </div>

            <div class="shopping-container">
                <div class="input-group">
                    <input type="text" id="itemInput" class="shopping-input" placeholder="è¼¸å…¥æƒ³è²·çš„æ±è¥¿... (ä¾‹å¦‚: EVEæ­¢ç—›è—¥)">
                    <button id="addBtn" class="btn-add">åŠ å…¥</button>
                </div>

                <div class="category-tags" id="quickAddTags">
                    <!-- JS will populate this -->
                </div>

                <ul id="shoppingList" class="shopping-list">
                    <!-- JS will populate this -->
                </ul>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p class="footer-wish">ğŸ›’ ç¥æ‚¨è³¼ç‰©æ„‰å¿«ï¼Œæ»¿è¼‰è€Œæ­¸ï¼</p>
        </div>
    </footer>

    <script>
        // Default suggestions
        const suggestions = [
            "EVEæ­¢ç—›è—¥", "åˆåˆ©ä»–å‘½", "Wakamoto", "DHCè­·å”‡è†", 
            "è’¸æ°£çœ¼ç½©", "ä¼‘è¶³æ™‚é–“", "ç†±æµ·å¸ƒä¸", "æº«æ³‰é¥…é ­", 
            "ç§©çˆ¶å‘³å™Œ", "ç§©çˆ¶éŒ¦æ—¥æœ¬é…’"
        ];

        // Load from LocalStorage
        let items = JSON.parse(localStorage.getItem('travelShoppingList')) || [];

        // If empty first time, maybe populate default? (Optional, let's keep it clean or use quick tags)
        
        const listEl = document.getElementById('shoppingList');
        const inputEl = document.getElementById('itemInput');
        const addBtn = document.getElementById('addBtn');
        const tagsContainer = document.getElementById('quickAddTags');

        // Render Quick Tags
        suggestions.forEach(item => {
            const tag = document.createElement('div');
            tag.className = 'category-tag';
            tag.textContent = `+ ${item}`;
            tag.onclick = () => addItem(item);
            tagsContainer.appendChild(tag);
        });

        function renderList() {
            listEl.innerHTML = '';
            if (items.length === 0) {
                listEl.innerHTML = '<div class="empty-state">è³¼ç‰©è»Šç©ºç©ºçš„ï¼Œå¿«å»åŠ é»æ±è¥¿å§ï¼ğŸ›’</div>';
                return;
            }

            items.forEach((item, index) => {
                const li = document.createElement('li');
                li.className = `shopping-item ${item.completed ? 'completed' : ''}`;
                li.innerHTML = `
                    <input type="checkbox" class="item-checkbox" ${item.completed ? 'checked' : ''} onchange="toggleItem(${index})">
                    <span class="item-text">${item.text}</span>
                    <button class="btn-delete" onclick="deleteItem(${index})">ğŸ—‘ï¸</button>
                `;
                listEl.appendChild(li);
            });
            save();
        }

        function addItem(text) {
            if (!text) text = inputEl.value.trim();
            if (text) {
                items.unshift({ text, completed: false });
                inputEl.value = '';
                renderList();
            }
        }

        function toggleItem(index) {
            items[index].completed = !items[index].completed;
            renderList();
        }

        function deleteItem(index) {
            if(confirm('ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ')) {
                items.splice(index, 1);
                renderList();
            }
        }

        function save() {
            localStorage.setItem('travelShoppingList', JSON.stringify(items));
        }

        addBtn.addEventListener('click', () => addItem());
        inputEl.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') addItem();
        });

        // Initial Render
        renderList();
    </script>
</body>
</html>
